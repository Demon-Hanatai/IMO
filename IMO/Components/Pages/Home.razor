@page "/"
@using System.Text

<PageTitle>Home</PageTitle>

<input type="text" @bind="Text" />
<button @onclick="DecodeText">Decode</button>
<h1>@DecodeMessage</h1>

@code {
    public string Text { get; set; } = string.Empty;
    public string DecodeMessage { get; set; } = "Initial Message";

    private void DecodeText()
    {
        DecodeMessage = DeEntry.Decode(Text, 323);
    }

    public static class DeEntry
    {
        public static string Decode(string message, int key)
        {
            if (string.IsNullOrEmpty(message)) return string.Empty;

            var keyStr = key.ToString();
            var decodedMessage = new StringBuilder();
            int keyIndex = 0;

            foreach (char c in message)
            {
                // Example decoding logic, replace with actual logic
                int keyNum = int.Parse(keyStr[keyIndex].ToString());
                char decodedChar = (char)(c - keyNum); // Simplified example
                decodedMessage.Append(decodedChar);

                keyIndex = (keyIndex + 1) % keyStr.Length;
            }

            return decodedMessage.ToString();
        }
    }
}
